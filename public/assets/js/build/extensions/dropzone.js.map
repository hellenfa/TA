{"version":3,"sources":["extensions/dropzone.js"],"names":["$","Dropzone","Error","dropzoneError","prototype","defaultOptions","error","extend","previewTemplate","addRemoveLinks","file","message","result","call","previewElement","find","removeClass","addClass","fn","dropzone","config","args","each","data","_config","jQuery","window"],"mappings":";;;;AAGA;AACA;;AAEA,CAAC,UAACA,CAAD,EAAIC,QAAJ,EAAiB;AAChB;;AAEA,MAAI,CAACA,QAAL,EAAe;AACb,UAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACD;;AAED,MAAMC,gBAAgBF,SAASG,SAAT,CAAmBC,cAAnB,CAAkCC,KAAxD;;AAEA;AACAL,WAASG,SAAT,CAAmBC,cAAnB,GAAoCL,EAAEO,MAAF,CAAS,EAAT,EAAaN,SAASG,SAAT,CAAmBC,cAAhC,EAAgD;AAClFG,krBADkF;AAkBlFC,oBAAgB,IAlBkE;;AAoBlFH,SApBkF,iBAoB5EI,IApB4E,EAoBtEC,OApBsE,EAoB7D;AACnB,UAAMC,SAAST,cAAcU,IAAd,CAAmB,IAAnB,EAAyBH,IAAzB,EAA+BC,OAA/B,CAAf;;AAEA,UAAID,KAAKI,cAAT,EAAyB;AACvBd,UAAEU,KAAKI,cAAP,EACGC,IADH,CACQ,uBADR,EAEGC,WAFH,CAEe,sBAFf,EAGGC,QAHH,CAGY,qBAHZ;AAID;;AAED,aAAOL,MAAP;AACD;AA/BiF,GAAhD,CAApC;;AAkCA;AACAZ,IAAEkB,EAAF,CAAKC,QAAL,GAAgB,UAASC,MAAT,EAA0B;AAAA,sCAANC,IAAM;AAANA,UAAM;AAAA;;AACxC,WAAO,KAAKC,IAAL,CAAU,YAAW;AAC1B,UAAIC,OAAUvB,EAAE,IAAF,EAAQuB,IAAR,CAAa,UAAb,CAAd;AACA,UAAIC,UAAU,QAAOJ,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,GAA6BA,MAA7B,GAAsC,IAApD;;AAEA,UAAI,CAACG,IAAL,EAAW;AACTA,eAAO,IAAItB,QAAJ,CAAa,IAAb,EAAmBuB,OAAnB,CAAP;AACAxB,UAAE,IAAF,EAAQuB,IAAR,CAAa,UAAb,EAAyBA,IAAzB;AACD;;AAED,UAAI,OAAOH,MAAP,KAAkB,QAAtB,EAAgC;AAAA;;AAC9B,YAAI,CAACG,KAAKH,MAAL,CAAL,EAAmB;AACjB,gBAAM,IAAIlB,KAAJ,uBAA8BkB,MAA9B,QAAN;AACD;AACD,uBAAKA,MAAL,eAAgBC,IAAhB;AACD;AACF,KAfM,CAAP;AAgBD,GAjBD;AAkBD,CA/DD,EA+DGI,MA/DH,EA+DWC,OAAOzB,QA/DlB","file":"extensions/dropzone.js","sourcesContent":["\n\n\n// Extensions / Dropzone\n// --------------------------------------------------\n\n(($, Dropzone) => {\n  'use strict';\n\n  if (!Dropzone) {\n    throw new Error('dropzone.js required.');\n  }\n\n  const dropzoneError = Dropzone.prototype.defaultOptions.error;\n\n  // Extend Dropzone default options\n  Dropzone.prototype.defaultOptions = $.extend({}, Dropzone.prototype.defaultOptions, {\n    previewTemplate: `\n<div class=\"dz-preview dz-file-preview\">\n  <div class=\"dz-details\">\n    <div class=\"dz-filename\" data-dz-name></div>\n    <div class=\"dz-size\" data-dz-size></div>\n    <div class=\"dz-thumbnail\">\n      <img data-dz-thumbnail>\n      <span class=\"dz-nopreview\">No preview</span>\n      <div class=\"dz-success-mark\"></div>\n      <div class=\"dz-error-mark\"></div>\n      <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n    </div>\n  </div>\n  <div class=\"progress\">\n    <div class=\"progress-bar progress-bar-success\" role=\"progressbar\" aria-valuenow=\"60\" aria-valuemin=\"0\" aria-valuemax=\"100\" data-dz-uploadprogress></div>\n  </div>\n</div>`,\n    addRemoveLinks: true,\n\n    error(file, message) {\n      const result = dropzoneError.call(this, file, message);\n\n      if (file.previewElement) {\n        $(file.previewElement)\n          .find('.progress-bar-success')\n          .removeClass('progress-bar-success')\n          .addClass('progress-bar-danger');\n      }\n\n      return result;\n    },\n  });\n\n  // jQuery plugin\n  $.fn.dropzone = function(config, ...args) {\n    return this.each(function() {\n      let data    = $(this).data('dropzone');\n      let _config = typeof config === 'object' ? config : null;\n\n      if (!data) {\n        data = new Dropzone(this, _config);\n        $(this).data('dropzone', data);\n      }\n\n      if (typeof config === 'string') {\n        if (!data[config]) {\n          throw new Error(`No method named \"${config}\".`);\n        }\n        data[config](...args);\n      }\n    });\n  };\n})(jQuery, window.Dropzone);\n"],"sourceRoot":"../src/"}