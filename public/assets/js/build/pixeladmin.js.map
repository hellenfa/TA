{"version":3,"sources":["pixeladmin.js"],"names":["PixelAdmin","$","PixelAdminObject","isRtl","document","documentElement","getAttribute","isMobile","test","navigator","userAgent","toLowerCase","isLocalStorageSupported","window","Storage","options","resizeDelay","storageKeyPrefix","cookieKeyPrefix","getScreenSize","_breakpoints","$xs","is","$sm","$md","$lg","storage","_prefix","key","set","value","obj","keys","Object","i","len","length","localStorage","setItem","e","cookies","get","isArray","result","getItem","encodedKey","encodedVal","encodeURIComponent","cookie","escapedKey","re","found","pxUtil","escapeRegExp","RegExp","match","decodeURIComponent","_setBreakpoints","prepend","_setDelayedResizeListener","delayedResizeHandler","callback","resizeTimer","clearTimeout","setTimeout","$window","prevScreen","on","curScreen","trigger","FastClick","attach","body","style","overflow","trick","offsetHeight","triggerResizeEvent","jQuery"],"mappings":"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","file":"pixeladmin.js","sourcesContent":["\n\n\n\nconst PixelAdmin = (function($) {\n  'use strict';\n\n  const PixelAdminObject = {\n    isRtl:                   document.documentElement.getAttribute('dir') === 'rtl',\n    isMobile:                (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i).test(navigator.userAgent.toLowerCase()),\n    isLocalStorageSupported: typeof window.Storage !== 'undefined',\n\n    // Application-wide options\n    options: {\n      resizeDelay:      100,\n      storageKeyPrefix: 'px_s_',\n      cookieKeyPrefix:  'px_c_',\n    },\n\n    getScreenSize() {\n      if (PixelAdminObject._breakpoints.$xs.is(':visible')) {\n        return 'xs';\n      } else if (PixelAdminObject._breakpoints.$sm.is(':visible')) {\n        return 'sm';\n      } else if (PixelAdminObject._breakpoints.$md.is(':visible')) {\n        return 'md';\n      } else if (PixelAdminObject._breakpoints.$lg.is(':visible')) {\n        return 'lg';\n      }\n\n      return 'xl';\n    },\n\n\n    // Storage\n    //\n\n    storage: {\n      _prefix(key) {\n        return `${PixelAdminObject.options.storageKeyPrefix}${key}`;\n      },\n\n      set(key, value) {\n        const obj  = (typeof key === 'string') ? { [key]: value } : key;\n        const keys = Object.keys(obj);\n\n        try {\n          for (let i = 0, len = keys.length; i < len; i++) {\n            window.localStorage\n              .setItem(this._prefix(keys[i]), obj[keys[i]]);\n          }\n        } catch(e) {\n          PixelAdminObject.cookies.set(key, value);\n        }\n      },\n\n      get(key) {\n        const keys   = $.isArray(key) ? key : [key];\n        const result = {};\n\n        try {\n          for (let i = 0, len = keys.length; i < len; i++) {\n            result[keys[i]] = window.localStorage\n              .getItem(this._prefix(keys[i]));\n          }\n\n          return $.isArray(key) ? result : result[key];\n        } catch(e) {\n          return PixelAdminObject.cookies.get(key);\n        }\n      },\n    },\n\n\n    // Cookies\n    //\n\n    cookies: {\n      _prefix(key) {\n        return `${PixelAdminObject.options.cookieKeyPrefix}${key}`;\n      },\n\n      set(key, value) {\n        const obj  = (typeof key === 'string') ? { [key]: value } : key;\n        const keys = Object.keys(obj);\n\n        let encodedKey;\n        let encodedVal;\n\n        for (let i = 0, len = keys.length; i < len; i++) {\n          encodedKey = encodeURIComponent(this._prefix(keys[i]));\n          encodedVal = encodeURIComponent(obj[keys[i]]);\n\n          document.cookie = `${(encodedKey)}=${encodedVal}`;\n        }\n      },\n\n      get(key) {\n        const cookie = `;${document.cookie};`;\n        const keys   = $.isArray(key) ? key : [key];\n        const result = {};\n\n        let escapedKey;\n        let re;\n        let found;\n\n        for (let i = 0, len = keys.length; i < len; i++) {\n          escapedKey = pxUtil.escapeRegExp(\n            encodeURIComponent(this._prefix(keys[i]))\n          );\n          re = new RegExp(`;\\\\s*${escapedKey}\\\\s*=\\\\s*([^;]+)\\\\s*;`);\n          found = cookie.match(re);\n\n          result[keys[i]] = found ?\n            decodeURIComponent(found[1]) :\n            null;\n        }\n\n        return $.isArray(key) ? result : result[key];\n      },\n    },\n\n    _setBreakpoints() {\n      const $xs = $('<div id=\"px-breakpoint-xs\"></div>');\n      const $sm = $('<div id=\"px-breakpoint-sm\"></div>');\n      const $md = $('<div id=\"px-breakpoint-md\"></div>');\n      const $lg = $('<div id=\"px-breakpoint-lg\"></div>');\n\n      $('body')\n        .prepend($xs)\n        .prepend($sm)\n        .prepend($md)\n        .prepend($lg);\n\n      PixelAdminObject._breakpoints = { $xs, $sm, $md, $lg };\n    },\n\n    _setDelayedResizeListener() {\n      function delayedResizeHandler(callback) {\n        let resizeTimer = null;\n\n        return function() {\n          if (resizeTimer) {\n            clearTimeout(resizeTimer);\n          }\n\n          resizeTimer = setTimeout(function() {\n            resizeTimer = null;\n            callback();\n          }, PixelAdminObject.options.resizeDelay);\n        };\n      }\n\n      const $window  = $(window);\n      let prevScreen = null;\n\n      $window.on('resize', delayedResizeHandler(function() {\n        const curScreen = PixelAdminObject.getScreenSize();\n\n        $window.trigger('px.resize');\n\n        if (prevScreen !== curScreen) {\n          $window.trigger(`px.screen.${curScreen}`);\n        }\n\n        prevScreen = curScreen;\n      }));\n    },\n  };\n\n  PixelAdminObject._setBreakpoints();\n  PixelAdminObject._setDelayedResizeListener();\n\n  // Wait for the document load\n  $(function() {\n    if (PixelAdminObject.isMobile && window.FastClick) {\n      window.FastClick.attach(document.body);\n    }\n\n    // Repaint to fix strange BODY offset bug in RTL mode\n    if (PixelAdminObject.isRtl) {\n      $(window).on('px.resize.px-rtl-fix', () => {\n        document.body.style.overflow = 'hidden';\n\n        const trick = document.body.offsetHeight;\n\n        document.body.style.overflow = '';\n      });\n    }\n\n    // Trigger 'px.load' and 'resize' events on window\n    $(window).trigger('px.load');\n    pxUtil.triggerResizeEvent();\n  });\n\n  return PixelAdminObject;\n})(jQuery);\n\nwindow.PixelAdmin = PixelAdmin;\n\n\n"],"sourceRoot":"../src/"}