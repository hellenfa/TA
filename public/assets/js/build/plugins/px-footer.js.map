{"version":3,"sources":["plugins/px-footer.js"],"names":["PxFooter","$","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","fn","ClassName","CONTENT","BOTTOM","FIXED","Event","RESIZE","SCROLL","NAV_EXPANDED","NAV_COLLAPSED","DROPDOWN_OPENED","DROPDOWN_CLOSED","Footer","element","uniqueId","pxUtil","generateUniqueId","parent","parentNode","_setListeners","update","document","body","_curScreenSize","window","PixelAdmin","getScreenSize","_updateBodyMinHeight","content","find","hasClass","style","paddingBottom","setAttribute","getAttribute","replace","outerHeight","_unsetListeners","removeData","minHeight","height","scrollHeight","on","constructor","proxy","off","method","each","data","Error","_jQueryInterface","Constructor","noConflict","jQuery"],"mappings":"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","file":"plugins/px-footer.js","sourcesContent":["\n\n\n\n// Plugins / PxFooter\n// --------------------------------------------------\n\nconst PxFooter = (function($) {\n  'use strict';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME               = 'pxFooter';\n  const DATA_KEY           = 'px.footer';\n  const EVENT_KEY          = `.${DATA_KEY}`;\n  const JQUERY_NO_CONFLICT = $.fn[NAME];\n\n  const ClassName = {\n    CONTENT: 'px-content',\n    BOTTOM:  'px-footer-bottom',\n    FIXED:   'px-footer-fixed',\n  };\n\n  const Event = {\n    RESIZE:          `resize${EVENT_KEY}`,\n    SCROLL:          `scroll${EVENT_KEY}`,\n    NAV_EXPANDED:    `expanded.px.nav`,\n    NAV_COLLAPSED:   `collapsed.px.nav`,\n    DROPDOWN_OPENED: `dropdown-opened.px.nav`,\n    DROPDOWN_CLOSED: `dropdown-closed.px.nav`,\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class Footer {\n    constructor(element) {\n      this.uniqueId = pxUtil.generateUniqueId();\n      this.element  = element;\n      this.parent   = element.parentNode;\n\n      this._setListeners();\n\n      this.update();\n    }\n\n    // getters\n\n    static get NAME() {\n      return NAME;\n    }\n\n    static get DATA_KEY() {\n      return DATA_KEY;\n    }\n\n    static get Event() {\n      return Event;\n    }\n\n    static get EVENT_KEY() {\n      return EVENT_KEY;\n    }\n\n    // public\n\n    update() {\n      if (this.parent === document.body) {\n        this._curScreenSize = window.PixelAdmin.getScreenSize();\n        this._updateBodyMinHeight();\n      }\n\n      const content = $(this.parent).find(`> .${ClassName.CONTENT}`)[0];\n\n      if (!pxUtil.hasClass(this.element, ClassName.BOTTOM) && !pxUtil.hasClass(this.element, ClassName.FIXED)) {\n        content.style.paddingBottom = content.setAttribute('style', (content.getAttribute('style') || '').replace(/\\s*padding-bottom:\\s*\\d+px\\s*;?/i));\n        return;\n      }\n\n      $(this.parent).find(`> .${ClassName.CONTENT}`)[0].style.paddingBottom =\n        `${$(this.element).outerHeight() + 20}px`;\n    }\n\n    destroy() {\n      this._unsetListeners();\n\n      $(this.element).removeData(DATA_KEY);\n    }\n\n    // private\n\n    _updateBodyMinHeight() {\n      if (document.body.style.minHeight) {\n        document.body.style.minHeight = null;\n      }\n\n      if ((this._curScreenSize !== 'lg' && this._curScreenSize !== 'xl') || !pxUtil.hasClass(this.element, ClassName.BOTTOM) || $(document.body).height() >= document.body.scrollHeight) {\n        return;\n      }\n\n      document.body.style.minHeight = `${document.body.scrollHeight}px`;\n    }\n\n    _setListeners() {\n      $(window)\n        .on(`${this.constructor.Event.RESIZE}.${this.uniqueId}`, $.proxy(this.update, this))\n        .on(`${this.constructor.Event.SCROLL}.${this.uniqueId}`, $.proxy(this._updateBodyMinHeight, this))\n        .on(`${this.constructor.Event.NAV_EXPANDED}.${this.uniqueId} ${this.constructor.Event.NAV_COLLAPSED}.${this.uniqueId}`, '.px-nav', $.proxy(this._updateBodyMinHeight, this));\n\n      if (this.parent === document.body) {\n        $('.px-nav')\n          .on(`${this.constructor.Event.DROPDOWN_OPENED}.${this.uniqueId} ${this.constructor.Event.DROPDOWN_CLOSED}.${this.uniqueId}`, '.px-nav-dropdown', $.proxy(this._updateBodyMinHeight, this));\n      }\n    }\n\n    _unsetListeners() {\n      $(window)\n        .off(`${this.constructor.Event.RESIZE}.${this.uniqueId} ${this.constructor.Event.SCROLL}.${this.uniqueId}`)\n        .off(`${this.constructor.Event.NAV_EXPANDED}.${this.uniqueId} ${this.constructor.Event.NAV_COLLAPSED}.${this.uniqueId}`);\n\n      $('.px-nav')\n        .off(`${this.constructor.Event.DROPDOWN_OPENED}.${this.uniqueId} ${this.constructor.Event.DROPDOWN_CLOSED}.${this.uniqueId}`);\n    }\n\n    // static\n\n    static _jQueryInterface(method) {\n      return this.each(function() {\n        let data = $(this).data(DATA_KEY);\n\n        if (!data) {\n          data = new Footer(this);\n          $(this).data(DATA_KEY, data);\n        }\n\n        if (typeof method === 'string') {\n          if (!data[method]) {\n            throw new Error(`No method named \"${method}\"`);\n          }\n          data[method]();\n        }\n      });\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = Footer._jQueryInterface;\n  $.fn[NAME].Constructor = Footer;\n  $.fn[NAME].noConflict  = function() {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return Footer._jQueryInterface;\n  };\n\n  return Footer;\n})(jQuery);\n\n\n"],"sourceRoot":"../src/"}