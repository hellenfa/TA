{"version":3,"sources":["plugins/px-tab-resize.js"],"names":["PxTabResize","$","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","fn","Default","template","content","ClassName","TAB_RESIZE","TAB_RESIZE_NAV","SHOW","ACTIVE","Selector","NAV_ITEMS","NAV_LINK","DROPDOWN_TOGGLE","DROPDOWN_MENU","DROPDOWN_ITEMS","Event","RESIZE","SHOWN","TabResize","element","config","uniqueId","pxUtil","generateUniqueId","_getConfig","addClass","navItem","_createNavItemElement","navLink","_getNavLinkElement","dropdown","_getDropdownElement","_setListeners","placeTabs","_resetDropdown","$navItems","find","curIndex","length","curNavItem","offsetTop","removeClass","_moveItemToDropdown","_unsetListeners","remove","removeData","insertBefore","firstChild","html","_navItem","prepend","hasClass","innerHTML","append","window","on","constructor","proxy","off","extend","each","data","_config","Error","_jQueryInterface","Constructor","noConflict","jQuery"],"mappings":"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","file":"plugins/px-tab-resize.js","sourcesContent":["\n\n\n\n// Plugins / PxTabResize\n// --------------------------------------------------\n\nconst PxTabResize = (function($) {\n  'use strict';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME               = 'pxTabResize';\n  const DATA_KEY           = 'px.tab-resize';\n  const EVENT_KEY          = `.${DATA_KEY}`;\n  const JQUERY_NO_CONFLICT = $.fn[NAME];\n\n  const Default = {\n    template: `\n<li class=\"dropdown\">\n  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"></a>\n  <ul class=\"dropdown-menu\"></ul>\n</li>`,\n    content: '<span class=\"tab-resize-icon\"></span>',\n  };\n\n  const ClassName = {\n    TAB_RESIZE:     'tab-resize',\n    TAB_RESIZE_NAV: 'tab-resize-nav',\n    SHOW:           'show',\n    ACTIVE:         'active',\n  };\n\n  const Selector = {\n    NAV_ITEMS:       '> li:not(.tab-resize)',\n    NAV_LINK:        '> a',\n    DROPDOWN_TOGGLE: '> .dropdown-toggle',\n    DROPDOWN_MENU:   '> .dropdown-menu',\n    DROPDOWN_ITEMS:  '> li',\n  };\n\n  const Event = {\n    RESIZE: `resize${EVENT_KEY}`,\n    SHOWN:  `shown.bs.tab${EVENT_KEY}`,\n  };\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  class TabResize {\n    constructor(element, config) {\n      this.uniqueId = pxUtil.generateUniqueId();\n      this.config   = this._getConfig(config);\n\n      this.element = element;\n      pxUtil.addClass(element, ClassName.TAB_RESIZE_NAV);\n\n      this.navItem  = this._createNavItemElement();\n      this.navLink  = this._getNavLinkElement();\n      this.dropdown = this._getDropdownElement();\n\n      this._setListeners();\n\n      this.placeTabs();\n    }\n\n    // getters\n\n    static get Default() {\n      return Default;\n    }\n\n    static get NAME() {\n      return NAME;\n    }\n\n    static get DATA_KEY() {\n      return DATA_KEY;\n    }\n\n    static get Event() {\n      return Event;\n    }\n\n    static get EVENT_KEY() {\n      return EVENT_KEY;\n    }\n\n    // public\n\n    placeTabs() {\n      this._resetDropdown();\n\n      const $navItems = $(this.element).find(Selector.NAV_ITEMS);\n      let curIndex    = $navItems.length - 1;\n      let curNavItem  = $navItems[curIndex];\n      const offsetTop = curNavItem ? $navItems[0].offsetTop : 0;\n\n      if (!curNavItem || curNavItem.offsetTop <= offsetTop) {\n        pxUtil.removeClass(this.navItem, ClassName.SHOW);\n        return;\n      }\n\n      // Show dropdown menu\n      pxUtil.addClass(this.navItem, ClassName.SHOW);\n\n      while (curNavItem) {\n        if (curNavItem.offsetTop <= offsetTop) { break; }\n\n        this._moveItemToDropdown(curNavItem);\n\n        curNavItem = $navItems[--curIndex];\n      }\n    }\n\n    destroy() {\n      this._unsetListeners();\n      this._resetDropdown();\n      this.navItem.remove();\n      pxUtil.removeClass(this.element, ClassName.TAB_RESIZE_NAV);\n      $(this.element).removeData(DATA_KEY);\n    }\n\n    // private\n\n    _createNavItemElement() {\n      const navItem = $(this.config.template).addClass(ClassName.TAB_RESIZE)[0];\n\n      this.element\n        .insertBefore(navItem, this.element.firstChild);\n\n      return navItem;\n    }\n\n    _getNavLinkElement() {\n      return $(this.navItem)\n        .find(Selector.DROPDOWN_TOGGLE)\n        .html(this.config.content)[0];\n    }\n\n    _getDropdownElement() {\n      return $(this.navItem)\n        .find(Selector.DROPDOWN_MENU)[0];\n    }\n\n    _moveItemToDropdown(_navItem) {\n      $(this.dropdown).prepend(_navItem);\n\n      // Check if nav item is active\n      if (pxUtil.hasClass(_navItem, ClassName.ACTIVE)) {\n        pxUtil.addClass(this.navItem, ClassName.ACTIVE);\n        this.navLink.innerHTML = $(_navItem).find(Selector.NAV_LINK)[0].innerHTML;\n      }\n    }\n\n    _resetDropdown() {\n      pxUtil.removeClass(this.navItem, ClassName.ACTIVE);\n      this.navLink.innerHTML = this.config.content;\n\n      $(this.element)\n        .append($(this.dropdown).find(Selector.DROPDOWN_ITEMS));\n    }\n\n    _setListeners() {\n      $(window).on(\n        `${this.constructor.Event.RESIZE}.${this.uniqueId}`,\n        $.proxy(this.placeTabs, this)\n      );\n\n      $(this.element).on(\n        this.constructor.Event.SHOWN,\n        $.proxy(this.placeTabs, this)\n      );\n    }\n\n    _unsetListeners() {\n      $(window).off(`${this.constructor.Event.RESIZE}.${this.uniqueId}`);\n      $(this.element).off(EVENT_KEY);\n    }\n\n    _getConfig(config) {\n      return $.extend({},\n        this.constructor.Default,\n        config\n      );\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function() {\n        let data    = $(this).data(DATA_KEY);\n        let _config = typeof config === 'object' ? config : null;\n\n        if (!data) {\n          data = new TabResize(this, _config);\n          $(this).data(DATA_KEY, data);\n        }\n\n        if (typeof config === 'string') {\n          if (!data[config]) {\n            throw new Error(`No method named \"${config}\"`);\n          }\n          data[config]();\n        }\n      });\n    }\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = TabResize._jQueryInterface;\n  $.fn[NAME].Constructor = TabResize;\n  $.fn[NAME].noConflict  = function() {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return TabResize._jQueryInterface;\n  };\n\n  return TabResize;\n})(jQuery);\n\n\n"],"sourceRoot":"../src/"}