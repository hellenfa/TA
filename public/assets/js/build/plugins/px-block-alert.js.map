{"version":3,"sources":["plugins/px-block-alert.js"],"names":["PxBlockAlert","$","NAME","JQUERY_NO_CONFLICT","fn","Default","type","style","namespace","animate","timer","closeButton","BlockAlert","add","$el","content","_config","Error","config","_getConfig","$container","_getContainer","namespaceClass","$namespaceContainer","find","appendTo","$alert","append","addClass","removeClass","css","attr","slideDown","data","setTimeout","remove","$target","length","clearTimeout","done","slideUp","clear","each","clearAll","destroy","_unsetListeners","hasClass","prependTo","$header","insertAfter","first","_setListeners","result","extend","parseInt","String","on","parent","parents","off","_jQueryInterface","args","indexOf","apply","concat","slice","noConflict","jQuery"],"mappings":"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","file":"plugins/px-block-alert.js","sourcesContent":["\n\n\n// Plugins / PxBlockAlert\n// --------------------------------------------------\n\nconst PxBlockAlert = (function($) {\n  'use strict';\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  const NAME               = 'pxBlockAlert';\n  const JQUERY_NO_CONFLICT = $.fn[NAME];\n\n  const Default = {\n    type:        null,\n    style:       null,\n    namespace:   'default',\n    animate:     true,\n    timer:       0,\n    closeButton: true,\n  };\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n  const BlockAlert = {\n\n    // public\n\n    add($el, content, _config = {}) {\n      if (!content) {\n        throw new Error('Content is not specified');\n      }\n\n      const config         = BlockAlert._getConfig(_config);\n      const $container     = BlockAlert._getContainer($el);\n      const namespaceClass = `px-block-alerts-namespace--${config.namespace}`;\n\n      const $namespaceContainer = $(\n        $container.find(`.${namespaceClass}`)[0] ||\n        $(`<div class=\"${namespaceClass}\"></div>`).appendTo($container)[0]\n      );\n\n      const $alert = $(`<div class=\"alert\"></div>`);\n\n      if (config.closeButton) {\n        $alert.append('<button type=\"button\" class=\"close\">Ã—</button>');\n      }\n\n      if (config.type) {\n        $alert.addClass(`alert-${config.type}`);\n      }\n\n      if (config.style) {\n        $alert.addClass(`alert-${config.style}`);\n      }\n\n      $alert\n        .addClass(`${namespaceClass}__alert`)\n        .append(content);\n\n      $container.removeClass('px-block-alerts-empty');\n\n      if (config.animate) {\n        $alert\n          .css('display', 'none')\n          .attr('data-animate', 'true');\n      }\n\n      $namespaceContainer.append($alert);\n\n      if (config.animate) {\n        $alert.slideDown(300);\n      }\n\n      if (config.timer) {\n        $alert.data(\n          'px-block-alert-timer',\n          setTimeout(() => BlockAlert.remove($el, $alert, config.animate), 1000 * config.timer)\n        );\n      }\n    },\n\n    remove($el, $target, animate = true) {\n      const $alert = $el.find($target);\n\n      if (!$alert.length) {\n        return;\n      }\n\n      const timer = $alert.data('px-block-alert-timer');\n\n      if (timer) {\n        clearTimeout(timer);\n        $alert.data('px-block-alert-timer', null);\n      }\n\n      function done() {\n        const $container = $el.find('> .px-block-alerts');\n\n        $alert.remove();\n\n        if (!$container.find('.alert').length) {\n          $container.addClass('px-block-alerts-empty');\n        }\n      }\n\n      if ($alert.attr('data-animate') === 'true' && animate === true) {\n        return $alert.slideUp(300, done);\n      }\n\n      done();\n    },\n\n    clear($el, namespace = 'default', animate = true) {\n      if (typeof namespace !== 'string') {\n        throw new Error('Namespace must be a string.');\n      }\n\n      const $namespaceContainer = $el.find(\n        `> .px-block-alerts .px-block-alerts-namespace--${namespace}`\n      );\n\n      if (!$namespaceContainer.length) {\n        return;\n      }\n\n      $namespaceContainer.find('.alert').each(function() {\n        BlockAlert.remove($el, $(this), animate);\n      });\n    },\n\n    clearAll($el, animate = true) {\n      $el.find('> .px-block-alerts .alert').each(function() {\n        BlockAlert.remove($el, $(this), animate);\n      });\n    },\n\n    destroy($el) {\n      const $container = $el.find('> .px-block-alerts');\n\n      if (!$container.length) {\n        return;\n      }\n\n      BlockAlert._unsetListeners($container);\n      $container.remove();\n    },\n\n    // private\n\n    _getContainer($el) {\n      let $container = $el.find('> .px-block-alerts');\n\n      if (!$container.length) {\n        $container = $('<div class=\"px-block-alerts\"></div>');\n\n        if (!$el.hasClass('panel')) {\n          $container.prependTo($el);\n        } else {\n          let $header = $el.find('> .panel-heading');\n\n          if (!$header.length) {\n            $header = $el.find('> .panel-subtitle');\n          }\n\n          if (!$header.length) {\n            $header = $el.find('> .panel-title');\n          }\n\n          if ($header.length) {\n            $container.insertAfter($header.first());\n          } else {\n            $container.prependTo($el);\n          }\n        }\n      }\n\n      if (!$container.data('pxBlockAlert-listenersDefined')) {\n        BlockAlert._setListeners($container);\n        $container.data('pxBlockAlert-listenersDefined', true);\n      }\n\n      return $container;\n    },\n\n    _getConfig(config) {\n      const result = $.extend({}, Default, config);\n\n      result.animate     = !(result.animate === 'false' || result.animate === false);\n      result.closeButton = !(result.closeButton === 'false' || result.closeButton === false);\n      result.timer       = parseInt(String(result.timer), 10) || 0;\n\n      return result;\n    },\n\n    _setListeners($container) {\n      $container.on('click', '.close', function() {\n        BlockAlert.remove($container.parent(), $(this).parents('.alert'));\n      });\n    },\n\n    _unsetListeners($container) {\n      $container.off();\n    },\n  };\n\n  function _jQueryInterface(...args) {\n    return this.each(function() {\n      if ([ 'remove', 'clear', 'clearAll', 'destroy' ].indexOf(args[0]) !== -1) {\n        return BlockAlert[args[0]].apply(null, [$(this)].concat(args.slice(1)));\n      }\n\n      BlockAlert.add($(this), args[0], ...args.slice(1));\n    });\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  $.fn[NAME]             = _jQueryInterface;\n  $.fn[NAME].noConflict  = function() {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return _jQueryInterface;\n  };\n\n  return BlockAlert;\n})(jQuery);\n\n\n"],"sourceRoot":"../src/"}